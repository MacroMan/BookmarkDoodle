!function(e,t){function n(e,t,n){e.addEventListener(t,n)}function i(e){27==e.which&&(o.removeChild(h),o.removeEventListener("keydown",i))}var o=t.body,a=t.documentElement,h=t.createElement("canvas"),c=h.width=Math.max(e.innerWidth,a.clientWidth,o.clientWidth),d=h.height=Math.max(e.innerHeight,a.clientHeight,o.clientHeight),r=h.style;r.position="absolute",r.left=r.top=0,r.width=c+"px",r.height=d+"px",r.zIndex=1e4,r.cursor="crosshair",o.appendChild(h);var l=h.getContext("2d");l.strokeStyle="#F00",l.lineWidth=3;var s=!1,u={x:0,y:0};n(h,"mousedown",function(e){u.x=e.pageX,u.y=e.pageY,s=!0}),n(h,"mouseup",function(){s=!1}),n(h,"mousemove",function(e){if(s){var t=e.pageX,n=e.pageY;l.clearRect(0,0,c,d),l.beginPath(),l.rect(u.x,u.y,t-u.x,n-u.y),l.stroke()}}),n(o,"keydown",i)}(window,document);